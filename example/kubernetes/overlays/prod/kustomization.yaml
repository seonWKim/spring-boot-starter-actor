apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: spring-actor

bases:
- ../../base

nameSuffix: -prod

commonLabels:
  environment: production

# Override image tag for production
images:
- name: your-registry/spring-actor-app
  newTag: v1.0.0

# Production replicas
replicas:
- name: spring-actor
  count: 5

# Patches for production
patchesStrategicMerge:
- deployment-patch.yaml
- hpa.yaml

configMapGenerator:
- name: spring-actor-config
  behavior: merge
  literals:
  - ENVIRONMENT=production
  - LOG_LEVEL=INFO
