apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: spring-actor-dev

bases:
- ../../base

nameSuffix: -dev

commonLabels:
  environment: development

# Override image tag for dev
images:
- name: your-registry/spring-actor-app
  newTag: dev

# Reduce replicas for dev
replicas:
- name: spring-actor
  count: 1

# Patches for dev environment
patchesStrategicMerge:
- deployment-patch.yaml
- service-patch.yaml

configMapGenerator:
- name: spring-actor-config
  behavior: merge
  literals:
  - ENVIRONMENT=development
  - LOG_LEVEL=DEBUG
